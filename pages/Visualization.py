import streamlit as st
from PIL import Image

st.title("ğŸ“Š ë°ì´í„° ì‹œê°í™”")


# -------------------------------
# Helper: ì´ë¯¸ì§€ + ë¶„ì„ë¬¸ (ì™¼ìª½ ì •ë ¬)
# -------------------------------
def left_block(img_path, text, ratio=[2, 1]):
    col_left, col_right = st.columns(ratio)
    with col_left:
        st.image(Image.open(img_path), use_column_width=True)
        st.markdown(f"<p style='color:gray;'>{text}</p>", unsafe_allow_html=True)


# -------------------------------
# 1. ì›”ë³„ ì „ì²´ ìœ„í—˜ ì‹œê³„ì—´
# -------------------------------
st.markdown("##### ğŸ“† ì›”ë³„ ì „ì²´ ìœ„í—˜ ì‹œê³„ì—´(Time Series)")
left_block(
    "monthly_timeseries.jpg",
    "5~7ì›”ê³¼ 10ì›”ì— ìœ„í—˜ë„ê°€ ë†’ì•„ì§€ëŠ” ê³„ì ˆì  íŒ¨í„´ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.",
    ratio=[2, 1]
)
st.markdown("\n\n\n")


# -------------------------------
# 2. ìœ„í—˜ë“±ê¸‰ ë¶„í¬ Pie chart (ê°€ë¡œ ë¹„ìœ¨ 1:2)
# -------------------------------
st.markdown("##### ğŸ© ìœ„í—˜ë“±ê¸‰ ë¶„í¬ Pie chart")
left_block(
    "risk_heatmap.jpg",
    "ì „ì²´ ê³µì—° ì¤‘ 3Â·4ë“±ê¸‰ì´ 69%ë¡œ â€˜ì¤‘ìœ„í—˜ ì´ìƒâ€™ ê³µì—°ì´ ëŒ€ë¶€ë¶„ì…ë‹ˆë‹¤.",
    ratio=[3, 4]  # â† íŒŒì´ì°¨íŠ¸ 1:2
)
st.markdown("\n\n\n")


# -------------------------------
# 3. ê³µì—°ë³„ ìœ„í—˜ë„ Top 10
# -------------------------------
st.markdown("##### ğŸ­ ê³µì—°ë³„ ìœ„í—˜ë„ Top 10")
left_block(
    "bar_risk_top10.jpg",
    "ëŒ€í˜• ì•„ì´ëŒÂ·ë°´ë“œ ê³µì—° ì¤‘ì‹¬ìœ¼ë¡œ ë†’ì€ ìœ„í—˜ë„ê°€ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.",
    ratio=[2, 1]
)
st.markdown("\n\n\n")


# -------------------------------
# 4. SVI / HLI / AQHI ì›”ë³„ ë¹„êµ
# -------------------------------
st.markdown("##### ğŸ“ˆ SVI / HLI / AQHI ì›”ë³„ ë¹„êµ")

explanation_3index = """
<p style='color:gray;'>
<b>SVI:</b> ê³µì—° ê·œëª¨Â·ì¥ë¥´ êµ¬ì„± ì˜í–¥ìœ¼ë¡œ ë´„Â·ê°€ì„ì— ë†’ì•„ì§€ê³  ì—¬ë¦„ì— ë‚®ì•„ì§€ëŠ” ê³µì—° ì‹œì¦Œ íŒ¨í„´ì„ ë³´ì…ë‹ˆë‹¤.<br>
<b>HLI:</b> ë°©ë¬¸ê°Â·ì£¼ì°¨Â·ì‹œì„¤ ì´ìš©ì´ ì¦ê°€í•˜ëŠ” 5ì›”ê³¼ 10ì›”ì— í˜¼ì¡ì´ ê°€ì¥ í¬ê²Œ ìƒìŠ¹í•˜ëŠ” í˜„ì¥ ë¶€í•˜ íŒ¨í„´ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.<br>
<b>AQHI:</b> ê²¨ìš¸ì² ì—” ê³„ì ˆ ë³´ì •ìœ¼ë¡œ ë‚®ê³ , 3ì›” ì´í›„ ì™¸ê¸° ë¯¸ì„¸ë¨¼ì§€Â·ì˜¨ìŠµë„ ë³€ë™ìœ¼ë¡œ ìƒìŠ¹í•˜ë©° ì—¬ë¦„Â·ê°€ì„ì—ëŠ” í™˜ê¸°Â·ëƒ‰ë°© ì•ˆì • íš¨ê³¼ì™€ ì™¸ê¸° ì•…í™” ìš”ì¸ì´ ê· í˜•ì„ ì´ë£¨ë©° ì¼ì •í•œ ìˆ˜ì¤€ì„ ìœ ì§€í•©ë‹ˆë‹¤.
</p>
"""

left_block(
    "monthly_3index.jpg",
    explanation_3index,
    ratio=[2, 1]
)
st.markdown("\n\n\n")



# -------------------------------
# 5. ì›”ë³„ ìœ„í—˜ Heatmap (ê°€ë¡œ ë¹„ìœ¨ 1:3, í…ìŠ¤íŠ¸ ì¤„ë°”ê¿ˆ ì œê±°)
# -------------------------------
st.markdown("##### ğŸ”¥ ì›”ë³„ ìœ„í—˜ Heatmap")

col_left, col_right = st.columns([1, 3])
with col_left:
    st.image(Image.open("monthly_risk.jpg"), use_column_width=True)
    st.markdown(
        "<p style='color:gray; white-space: nowrap;'>5ì›”ê³¼ 10ì›”ì´ ê°€ì¥ ê³ ìœ„í—˜ êµ¬ê°„ìœ¼ë¡œ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.</p>",
        unsafe_allow_html=True
    )

